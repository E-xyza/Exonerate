# GPT Benchmarking

```elixir
Mix.install([{:jason, "> 0.0.0"}])

~w(test.ex schema.ex)
|> Enum.each(fn file ->
  __DIR__
  |> Path.join("benchmark/#{file}")
  |> Code.compile_file()
end)

alias Benchmark.Schema
alias Benchmark.Test
```

## Benchmarking Framework Code

```elixir
defmodule Benchmark do
  @test_directory Path.join(__DIR__, "../test/_draft2020-12")
  def get_test_content do
    @test_directory
    |> Schema.stream_from_directory()
    |> Enum.to_list()
  end

  def run(gpt, test_content) do
    code_directory = Path.join(__DIR__, gpt)

    Enum.map(test_content, &compile_schema/1)
  end
end
```

## Run benchmark

```elixir
tests = Benchmark.get_test_content()

Benchmark.run("3.5", tests)
```
